{"version":3,"file":"ListView.stories-d017db6a.js","sources":["../../src/ListView.tsx"],"sourcesContent":["import { useEffect, useState } from 'react';\nimport Paginate from './Paginate';\n\nexport type PaginationMetaResource = {\n\tcurrentPage: number;\n\tlastPage: number;\n\tlength: number;\n\tgetLength: number;\n\tper: number;\n};\nexport type PaginationResource<T = object> = {\n\tmeta: PaginationMetaResource;\n\titems: T[];\n};\nexport type ListViewProps<ItemProps = any, ItemResource = any> = {\n\tgetItems: (props: ItemProps) => Promise<PaginationResource<ItemResource> | false>;\n\titemWrapper: any;\n\titemCallback: (value: object | any, index: number, array: object[]) => JSX.Element;\n\treload?: string;\n};\nexport default function ListView(props: ListViewProps): JSX.Element {\n\tconst [Page, setPage] = useState<number>(1);\n\tconst [Payloads, setPayloads] = useState<PaginationResource | undefined>();\n\n\tuseEffect(() => {\n\t\tgetItems();\n\t}, [Page, props.reload]);\n\tasync function getItems(): Promise<void> {\n\t\tconst payloads = await props.getItems({ page: Page });\n\t\tif (!payloads) return;\n\t\tsetPayloads({ ...{}, ...payloads });\n\t}\n\tif (!Payloads) return <></>;\n\treturn (\n\t\t<>\n\t\t\t<div className=\"mb-2\">\n\t\t\t\t{Payloads.meta.length}件中{Payloads.meta.getLength}件表示中\n\t\t\t</div>\n\t\t\t<props.itemWrapper>{Payloads.items.map(props.itemCallback)}</props.itemWrapper>\n\t\t\t<div className=\"mt-2\">\n\t\t\t\t<Paginate meta={Payloads.meta} setPage={setPage} />\n\t\t\t</div>\n\t\t</>\n\t);\n}\n"],"names":["ListView","props","Page","setPage","useState","Payloads","setPayloads","useEffect","getItems","payloads","jsxs","Fragment","jsx","Paginate"],"mappings":"4OAoBA,SAAAA,EAAAC,EAAA,CACC,KAAA,CAAAC,EAAAC,CAAA,EAAAC,EAAA,SAAA,CAAA,EACA,CAAAC,EAAAC,CAAA,EAAAF,EAAA,SAAA,EAEAG,EAAAA,UAAA,IAAA,CACCC,GAAS,EAAA,CAAAN,EAAAD,EAAA,MAAA,CAAA,EAEV,eAAAO,GAAA,CACC,MAAAC,EAAA,MAAAR,EAAA,SAAA,CAAA,KAAAC,CAAA,CAAA,EACAO,GACAH,EAAA,CAAA,GAAAG,CAAA,CAAA,CAAkC,CAEnC,OAAAJ,EACAK,EAAA,KAAAC,WAAA,CAAA,SAAA,CAEED,EAAAA,KAAA,MAAA,CAAA,UAAA,OAAA,SAAA,CACEL,EAAA,KAAA,OAAc,KAAOA,EAAA,KAAA,UAAiB,MAAU,EAAA,EAClDO,EAAAA,IAAAX,EAAA,YAAA,CAAA,SAAAI,EAAA,MAAA,IAAAJ,EAAA,YAAA,EAAA,EAC2DW,EAAAA,IAAA,MAAA,CAAA,UAAA,OAAA,SAAAA,EAAA,IAAAC,EAAA,CAAA,KAAAR,EAAA,KAAA,QAAAF,CAAA,CAAA,CAAA,CAAA,CAG3D,CAAA,CAAA,EATaS,EAAA,IAAAD,WAAA,CAAA,CAAA,CAYhB;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}