import{j as a}from"./jsx-runtime-ffb262ed.js";import{r as o}from"./index-76fb7be0.js";import{u as y,a as ue,c as g,d as me,e as fe}from"./useEventCallback-d2764a24.js";import{P as b}from"./index-8d47fad6.js";import{_ as pe,a as _,C as ge,d as ye,F as O}from"./createWithBsPrefix-8bad15b1.js";import{_ as he}from"./extends-98964cd2.js";import{A as xe}from"./Anchor-6c4b56c4.js";function B(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function je(e){var s=ve(e,"string");return typeof s=="symbol"?s:String(s)}function ve(e,s){if(typeof e!="object"||e===null)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var r=t.call(e,s||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(s==="string"?String:Number)(e)}function Ce(e,s,t){var r=o.useRef(e!==void 0),n=o.useState(s),i=n[0],c=n[1],d=e!==void 0,m=r.current;return r.current=d,!d&&m&&i!==s&&c(s),[d?e:i,o.useCallback(function(u){for(var l=arguments.length,p=new Array(l>1?l-1:0),f=1;f<l;f++)p[f-1]=arguments[f];t&&t.apply(void 0,[u].concat(p)),c(u)},[t])]}function Ne(e,s){return Object.keys(s).reduce(function(t,r){var n,i=t,c=i[B(r)],d=i[r],m=pe(i,[B(r),r].map(je)),u=s[r],l=Ce(d,c,e[u]),p=l[0],f=l[1];return he({},m,(n={},n[r]=p,n[u]=f,n))},e)}const W=ye("h4");W.displayName="DivStyledAsH4";const be=_("alert-heading",{Component:W}),Fe=_("alert-link",{Component:xe}),H=o.forwardRef((e,s)=>{const{bsPrefix:t,show:r=!0,closeLabel:n="Close alert",closeVariant:i,className:c,children:d,variant:m="primary",onClose:u,dismissible:l,transition:p=O,...f}=Ne(e,{show:"onClose"}),h=y(t,"alert"),x=ue(k=>{u&&u(!1,k)}),v=p===!0?O:p,N=a.jsxs("div",{role:"alert",...v?void 0:f,ref:s,className:g(c,h,m&&`${h}-${m}`,l&&`${h}-dismissible`),children:[l&&a.jsx(ge,{onClick:x,"aria-label":n,variant:i}),d]});return v?a.jsx(v,{unmountOnExit:!0,...f,ref:void 0,in:r,children:N}):r?N:null});H.displayName="Alert";const I=Object.assign(H,{Link:Fe,Heading:be});function $e(e,s){return o.Children.toArray(e).some(t=>o.isValidElement(t)&&t.type===s)}function Ee({as:e,bsPrefix:s,className:t,...r}){s=y(s,"col");const n=me(),i=fe(),c=[],d=[];return n.forEach(m=>{const u=r[m];delete r[m];let l,p,f;typeof u=="object"&&u!=null?{span:l,offset:p,order:f}=u:l=u;const h=m!==i?`-${m}`:"";l&&c.push(l===!0?`${s}${h}`:`${s}${h}-${l}`),f!=null&&d.push(`order${h}-${f}`),p!=null&&d.push(`offset${h}-${p}`)}),[{...r,className:g(t,...c,...d)},{as:e,bsPrefix:s,spans:c}]}const U=o.forwardRef((e,s)=>{const[{className:t,...r},{as:n="div",bsPrefix:i,spans:c}]=Ee(e);return a.jsx(n,{...r,ref:s,className:g(t,!c.length&&i)})});U.displayName="Col";const _e=U,K=o.createContext(null);K.displayName="InputGroupContext";const we=K,ke={type:b.string,tooltip:b.bool,as:b.elementType},S=o.forwardRef(({as:e="div",className:s,type:t="valid",tooltip:r=!1,...n},i)=>a.jsx(e,{...n,ref:i,className:g(s,`${t}-${r?"tooltip":"feedback"}`)}));S.displayName="Feedback";S.propTypes=ke;const J=S,Ie=o.createContext({}),j=Ie,Q=o.forwardRef(({id:e,bsPrefix:s,className:t,type:r="checkbox",isValid:n=!1,isInvalid:i=!1,as:c="input",...d},m)=>{const{controlId:u}=o.useContext(j);return s=y(s,"form-check-input"),a.jsx(c,{...d,ref:m,type:r,id:e||u,className:g(t,s,n&&"is-valid",i&&"is-invalid")})});Q.displayName="FormCheckInput";const w=Q,X=o.forwardRef(({bsPrefix:e,className:s,htmlFor:t,...r},n)=>{const{controlId:i}=o.useContext(j);return e=y(e,"form-check-label"),a.jsx("label",{...r,ref:n,htmlFor:t||i,className:g(s,e)})});X.displayName="FormCheckLabel";const R=X,Y=o.forwardRef(({id:e,bsPrefix:s,bsSwitchPrefix:t,inline:r=!1,reverse:n=!1,disabled:i=!1,isValid:c=!1,isInvalid:d=!1,feedbackTooltip:m=!1,feedback:u,feedbackType:l,className:p,style:f,title:h="",type:x="checkbox",label:v,children:N,as:k="input",...le},ie)=>{s=y(s,"form-check"),t=y(t,"form-switch");const{controlId:L}=o.useContext(j),ce=o.useMemo(()=>({controlId:e||L}),[L,e]),A=!N&&v!=null&&v!==!1||$e(N,R),de=a.jsx(w,{...le,type:x==="switch"?"checkbox":x,ref:ie,isValid:c,isInvalid:d,disabled:i,as:k});return a.jsx(j.Provider,{value:ce,children:a.jsx("div",{style:f,className:g(p,A&&s,r&&`${s}-inline`,n&&`${s}-reverse`,x==="switch"&&t),children:N||a.jsxs(a.Fragment,{children:[de,A&&a.jsx(R,{title:h,children:v}),u&&a.jsx(J,{type:l,tooltip:m,children:u})]})})})});Y.displayName="FormCheck";const E=Object.assign(Y,{Input:w,Label:R}),Z=o.forwardRef(({bsPrefix:e,type:s,size:t,htmlSize:r,id:n,className:i,isValid:c=!1,isInvalid:d=!1,plaintext:m,readOnly:u,as:l="input",...p},f)=>{const{controlId:h}=o.useContext(j);e=y(e,"form-control");let x;return m?x={[`${e}-plaintext`]:!0}:x={[e]:!0,[`${e}-${t}`]:t},a.jsx(l,{...p,type:s,size:r,ref:f,readOnly:u,id:n||h,className:g(i,x,c&&"is-valid",d&&"is-invalid",s==="color"&&`${e}-color`)})});Z.displayName="FormControl";const Re=Object.assign(Z,{Feedback:J}),Me=_("form-floating"),z=o.forwardRef(({controlId:e,as:s="div",...t},r)=>{const n=o.useMemo(()=>({controlId:e}),[e]);return a.jsx(j.Provider,{value:n,children:a.jsx(s,{...t,ref:r})})});z.displayName="FormGroup";const P=z,ee=o.forwardRef(({as:e="label",bsPrefix:s,column:t=!1,visuallyHidden:r=!1,className:n,htmlFor:i,...c},d)=>{const{controlId:m}=o.useContext(j);s=y(s,"form-label");let u="col-form-label";typeof t=="string"&&(u=`${u} ${u}-${t}`);const l=g(n,s,r&&"visually-hidden",t&&u);return i=i||m,t?a.jsx(_e,{ref:d,as:"label",className:l,htmlFor:i,...c}):a.jsx(e,{ref:d,className:l,htmlFor:i,...c})});ee.displayName="FormLabel";const Se=ee,se=o.forwardRef(({bsPrefix:e,className:s,id:t,...r},n)=>{const{controlId:i}=o.useContext(j);return e=y(e,"form-range"),a.jsx("input",{...r,type:"range",ref:n,className:g(s,e),id:t||i})});se.displayName="FormRange";const Ve=se,ae=o.forwardRef(({bsPrefix:e,size:s,htmlSize:t,className:r,isValid:n=!1,isInvalid:i=!1,id:c,...d},m)=>{const{controlId:u}=o.useContext(j);return e=y(e,"form-select"),a.jsx("select",{...d,size:t,ref:m,className:g(r,e,s&&`${e}-${s}`,n&&"is-valid",i&&"is-invalid"),id:c||u})});ae.displayName="FormSelect";const qe=ae,te=o.forwardRef(({bsPrefix:e,className:s,as:t="small",muted:r,...n},i)=>(e=y(e,"form-text"),a.jsx(t,{...n,ref:i,className:g(s,e,r&&"text-muted")})));te.displayName="FormText";const Te=te,re=o.forwardRef((e,s)=>a.jsx(E,{...e,ref:s,type:"switch"}));re.displayName="Switch";const Le=Object.assign(re,{Input:E.Input,Label:E.Label}),ne=o.forwardRef(({bsPrefix:e,className:s,children:t,controlId:r,label:n,...i},c)=>(e=y(e,"form-floating"),a.jsxs(P,{ref:c,className:g(s,e),controlId:r,...i,children:[t,a.jsx("label",{htmlFor:r,children:n})]})));ne.displayName="FloatingLabel";const Ae=ne,Oe={_ref:b.any,validated:b.bool,as:b.elementType},V=o.forwardRef(({className:e,validated:s,as:t="form",...r},n)=>a.jsx(t,{...r,ref:n,className:g(e,s&&"was-validated")}));V.displayName="Form";V.propTypes=Oe;const $=Object.assign(V,{Group:P,Control:Re,Floating:Me,Check:E,Switch:Le,Label:Se,Text:Te,Range:Ve,Select:qe,FloatingLabel:Ae}),q=_("input-group-text",{Component:"span"}),Be=e=>a.jsx(q,{children:a.jsx(w,{type:"checkbox",...e})}),Ge=e=>a.jsx(q,{children:a.jsx(w,{type:"radio",...e})}),oe=o.forwardRef(({bsPrefix:e,size:s,hasValidation:t,className:r,as:n="div",...i},c)=>{e=y(e,"input-group");const d=o.useMemo(()=>({}),[]);return a.jsx(we.Provider,{value:d,children:a.jsx(n,{ref:c,...i,className:g(r,e,s&&`${e}-${s}`,t&&"has-validation")})})});oe.displayName="InputGroup";const F=Object.assign(oe,{Text:q,Radio:Ge,Checkbox:Be}),T=o.createContext({getError:()=>{},changeError:()=>{}});function De(){const[e,s]=o.useState();function t(n=void 0){if(n===void 0||e===void 0)return e;if(e[n])return e[n];throw new Error("Unexpected.")}function r(n=void 0){s(n===void 0?void 0:{...n})}return{getError:t,changeError:r}}function G(e){const[s,t]=o.useState(!1),[r,n]=o.useState(!1),[i,c]=o.useState(!1),d=De();o.useEffect(()=>{e.setButtonDisabled&&e.setButtonDisabled(r)},[r]);async function m(u){if(u.preventDefault(),n(!0),d.changeError(void 0),!u.currentTarget.checkValidity()){t(!0),n(!1);return}t(!1);const l=await e.onSubmit(u);l.error&&(d.changeError(l.error),t(!0)),l.error||(c(!0),setTimeout(()=>{c(!1)},e.successMessageTimeout||5e3)),l.payloads&&e.success&&e.success(l.payloads),n(!1)}return a.jsx(T.Provider,{value:d,children:a.jsxs($,{noValidate:!0,validated:s,onSubmit:m,children:[d.getError()&&a.jsxs(I,{variant:"warning",children:[a.jsxs(I.Heading,{children:[d.getError("abstract")&&a.jsxs("span",{children:["[",d.getError("abstract"),"]"]}),d.getError("title")&&a.jsx("span",{children:d.getError("title")})]}),d.getError("messages")&&e.ErrorMessages?a.jsx(e.ErrorMessages,{messages:d.getError("messages")}):a.jsx(C,{messages:d.getError("messages"),ignoreObject:!0})]}),i&&a.jsx(I,{variant:"success",children:e.successMessage||"処理に成功しました"}),e.children]})})}function C(e){return e.messages===void 0?a.jsx(a.Fragment,{}):Array.isArray(e.messages)?a.jsx("ul",{children:e.messages.map((s,t)=>a.jsx(C,{messages:s},`errorMessageArray-${t}`))}):typeof e.messages=="string"||e.messages instanceof String?a.jsx("li",{children:e.messages}):e.messages!==null&&typeof e.messages=="object"?e.ignoreObject?a.jsx(a.Fragment,{}):a.jsx("ul",{className:"mb-0",children:Object.keys(e.messages).map((s,t)=>a.jsx(C,{messages:e.messages[s]},`errorMessageObject-${t}`))}):a.jsx(a.Fragment,{})}try{G.displayName="FormWrapper",G.__docgenInfo={description:"",displayName:"FormWrapper",props:{onSubmit:{defaultValue:null,description:"",name:"onSubmit",required:!0,type:{name:"(e: FormEvent<HTMLFormElement>) => Promise<ResponseResource<any>>"}},setButtonDisabled:{defaultValue:null,description:"",name:"setButtonDisabled",required:!1,type:{name:"Dispatch<SetStateAction<boolean>>"}},success:{defaultValue:null,description:"",name:"success",required:!1,type:{name:"((payloads: any) => void)"}},successMessage:{defaultValue:null,description:"",name:"successMessage",required:!1,type:{name:"string"}},successMessageTimeout:{defaultValue:null,description:"",name:"successMessageTimeout",required:!1,type:{name:"number"}},ErrorMessages:{defaultValue:null,description:"",name:"ErrorMessages",required:!1,type:{name:"((props: ErrorMessagesProps) => Element)"}}}}}catch{}try{C.displayName="ErrorMessages",C.__docgenInfo={description:"",displayName:"ErrorMessages",props:{messages:{defaultValue:null,description:"",name:"messages",required:!1,type:{name:"any"}},ignoreObject:{defaultValue:null,description:"",name:"ignoreObject",required:!1,type:{name:"boolean"}}}}}catch{}function M(e){const s=o.useContext(T);return a.jsxs("div",{className:"mb-2 "+e.className,children:[a.jsxs($.Label,{children:[e.label,e.required&&a.jsx("span",{className:"text-danger",children:"＊"})]}),a.jsx("div",{className:"ms-2",children:e.children}),e.feedbackMessage&&e.name&&s.getError("messages")&&s.getError("messages")[e.name]&&a.jsx("div",{className:"text-danger ms-1",children:a.jsx(C,{messages:s.getError("messages")[e.name]})})]})}try{M.displayName="InputWrapper",M.__docgenInfo={description:"",displayName:"InputWrapper",props:{label:{defaultValue:null,description:"",name:"label",required:!0,type:{name:"string"}},required:{defaultValue:null,description:"",name:"required",required:!1,type:{name:"boolean"}},name:{defaultValue:null,description:"",name:"name",required:!1,type:{name:"string"}},feedbackMessage:{defaultValue:null,description:"",name:"feedbackMessage",required:!1,type:{name:"boolean"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}}}catch{}function D({label:e,validMessage:s,invalidMessage:t,beforeText:r,afterText:n,wrapperClassName:i,...c}){const[d,m]=o.useState(),u=o.useContext(T);return o.useEffect(()=>{const l=u.getError("messages");if(l===void 0){m(void 0);return}c.name&&l[c.name]?m({...l[c.name]}):m(void 0)},[u.getError("messages")]),a.jsx(M,{label:e,required:c.required,name:c.name,feedbackMessage:!1,className:i,children:a.jsxs(F,{children:[r&&(Array.isArray(r)?r.map(l=>a.jsx(F.Text,{children:l})):a.jsx(F.Text,{children:r})),a.jsx($.Control,{...c,placeholder:c.placeholder||e,isInvalid:c.isInvalid||!!d,className:(c.className||"")+(c.isInvalid||d?" border-danger":"")}),s&&a.jsx($.Control.Feedback,{className:"ms-2",children:a.jsx("ul",{children:s.map(l=>a.jsx("li",{children:l},l))})}),a.jsxs($.Control.Feedback,{type:"invalid",className:"ms-2 mb-2",children:[t&&a.jsx("ul",{className:"mb-0",children:t.map(l=>a.jsx("li",{children:l},l))}),d&&a.jsx(C,{messages:d})]}),n&&(Array.isArray(n)?n.map(l=>a.jsx(F.Text,{children:l})):a.jsx(F.Text,{children:n}))]})})}try{D.displayName="Control",D.__docgenInfo={description:"",displayName:"Control",props:{label:{defaultValue:null,description:"",name:"label",required:!0,type:{name:"string"}},validMessage:{defaultValue:null,description:"",name:"validMessage",required:!1,type:{name:"string[]"}},invalidMessage:{defaultValue:null,description:"",name:"invalidMessage",required:!1,type:{name:"string[]"}},beforeText:{defaultValue:null,description:"",name:"beforeText",required:!1,type:{name:"ReactNode | ReactNode[]"}},afterText:{defaultValue:null,description:"",name:"afterText",required:!1,type:{name:"ReactNode | ReactNode[]"}},wrapperClassName:{defaultValue:null,description:"",name:"wrapperClassName",required:!1,type:{name:"string"}}}}}catch{}export{D as C,$ as F,M as I,G as a,_e as b,Ce as u};
//# sourceMappingURL=Control-4b1ab1a0.js.map
